;; gorilla-repl.fileformat = 1

;; **
;;; #--------------------------------------
;;; # Joel Flow - Double Pendulum
;;; #--------------------------------------
;;; # Chaotic pendulum, with biased grammar
;; **

;; **
;;; Uses a grammar biased towards generating Lagrangians for simple physical systems.
;; **

;; @@
(ns flow.runs.doublependulum
  (:require [gorilla-plot.core :as plot]
            [algebolic.expression.core :as expression]
            [algebolic.expression.genetics :as genetics]
            [algebolic.expression.tree :as tree]
            [algebolic.expression.score :as score]
            [algebolic.expression.render :as render]
            [algebolic.expression.mma :as mma]
            [darwin.evolution.core :as evolution]
            [darwin.evolution.metrics :as metrics]
            [darwin.evolution.transform :as transform]
            [darwin.algorithms.spea2 :as spea2]
            [flow.lagrangian :as lagrangian]
            [flow.util :as util]
            [runs.config :as config]
            [runs.util :as rutil]
            [semantic-csv.core :as csv]
            [clojure.walk :as walk]
            [gorilla-repl.table :as table]
            [gorilla-repl.html :as html]))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-nil'>nil</span>","value":"nil"}
;; <=

;; **
;;; Load the data exported from Mathematica.
;; **

;; @@
(def data_theta1 (mapv #(vector (first %))
               (csv/slurp-csv "data/mma_double.csv"
                              :header false
                              :cast-fns {0 #(Double/parseDouble %) 1 #(Double/parseDouble %)})))
(def t-step 0.1)


(def data_omega1 (mapv #(vector (second %))
               (csv/slurp-csv "data/mma_double.csv"
                              :header false
                              :cast-fns {0 #(Double/parseDouble %) 1 #(Double/parseDouble %)}))) 
                       
(def dat (csv/slurp-csv "data/mma_double.csv"
                              :header false
                              :cast-fns {0 #(Double/parseDouble %) 1 #(Double/parseDouble %)}))
                       
                       
                       
(def t-step 0.1)


;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;flow.runs.doublependulum/t-step</span>","value":"#'flow.runs.doublependulum/t-step"}
;; <=

;; **
;;; **Theta**
;; **

;; @@
(plot/list-plot (mapv first data_theta1))
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e","values":[{"x":0,"y":1.0},{"x":1,"y":0.8989199993243598},{"x":2,"y":0.6012264322527066},{"x":3,"y":0.20728721591523996},{"x":4,"y":-0.12469131936494138},{"x":5,"y":-0.3203010307328177},{"x":6,"y":-0.31739157814328817},{"x":7,"y":-0.15150573303836484},{"x":8,"y":-0.06853590752776278},{"x":9,"y":-0.10208675189016087},{"x":10,"y":-0.19283938714614973},{"x":11,"y":-0.3041667425077898},{"x":12,"y":-0.42784503777028354},{"x":13,"y":-0.5637214990503191},{"x":14,"y":-0.6436598262165486},{"x":15,"y":-0.556461294499259},{"x":16,"y":-0.2826385812681396},{"x":17,"y":0.11807334789353377},{"x":18,"y":0.4857189638152173},{"x":19,"y":0.6913021306892096},{"x":20,"y":0.7055517780524226},{"x":21,"y":0.5722506308257261},{"x":22,"y":0.4000601259592323},{"x":23,"y":0.23736876923428954},{"x":24,"y":0.09480122223273243},{"x":25,"y":0.002793018560010379},{"x":26,"y":0.020435421146520638},{"x":27,"y":0.18915121210814076},{"x":28,"y":0.29559964634164904},{"x":29,"y":0.19155971053107798},{"x":30,"y":-0.0645389453160641},{"x":31,"y":-0.41199979729428904},{"x":32,"y":-0.763745857310267},{"x":33,"y":-0.9658147523027288},{"x":34,"y":-0.9654151842309668},{"x":35,"y":-0.7619189567478477},{"x":36,"y":-0.3814639881360723},{"x":37,"y":0.019681487608635063},{"x":38,"y":0.30436890958202917},{"x":39,"y":0.4084348587488139},{"x":40,"y":0.3033511287685211},{"x":41,"y":0.16377080098790794},{"x":42,"y":0.13211037924768504},{"x":43,"y":0.1669624228955047},{"x":44,"y":0.22685663153362629},{"x":45,"y":0.29920237325085636},{"x":46,"y":0.3977196592588333},{"x":47,"y":0.5249176269470148},{"x":48,"y":0.5665113600861779},{"x":49,"y":0.4151813933396576},{"x":50,"y":0.08338014259205495},{"x":51,"y":-0.33945776612654516},{"x":52,"y":-0.6729538983437577},{"x":53,"y":-0.8190943458030526},{"x":54,"y":-0.7667122609067734},{"x":55,"y":-0.56613996650745},{"x":56,"y":-0.3329280745275617},{"x":57,"y":-0.12105327215003012},{"x":58,"y":0.04288629562864375},{"x":59,"y":0.10675009790370402},{"x":60,"y":-0.0012246218471329813},{"x":61,"y":-0.19771048010865605},{"x":62,"y":-0.20836327111761377},{"x":63,"y":-0.0473430071408562},{"x":64,"y":0.21536863452407284},{"x":65,"y":0.5318501320376852},{"x":66,"y":0.8203389351107336},{"x":67,"y":0.945085561544485},{"x":68,"y":0.8656880388502126},{"x":69,"y":0.5839868233179135},{"x":70,"y":0.15939401082395943},{"x":71,"y":-0.22285894688591146},{"x":72,"y":-0.44779233210495223},{"x":73,"y":-0.4661579631173108},{"x":74,"y":-0.32575683393984084},{"x":75,"y":-0.22180368665005942},{"x":76,"y":-0.18818819244095603},{"x":77,"y":-0.18576678271842334},{"x":78,"y":-0.1968715179619533},{"x":79,"y":-0.23362802935287189},{"x":80,"y":-0.33158415336253816},{"x":81,"y":-0.4725833079380909},{"x":82,"y":-0.47279998117485894},{"x":83,"y":-0.26485131605566004},{"x":84,"y":0.10776493903368044},{"x":85,"y":0.5367584498139469},{"x":86,"y":0.8344521790576684},{"x":87,"y":0.9313115251190204},{"x":88,"y":0.8240013888669246},{"x":89,"y":0.5514799939720119},{"x":90,"y":0.24539114522050504},{"x":91,"y":-0.014205895564683798},{"x":92,"y":-0.18284774301861834},{"x":93,"y":-0.19271063152967646},{"x":94,"y":-0.006238381238316786},{"x":95,"y":0.12534591122174707},{"x":96,"y":0.07394787024428637},{"x":97,"y":-0.09041820089881154},{"x":98,"y":-0.31111406108502415},{"x":99,"y":-0.5577880624881791},{"x":100,"y":-0.7747457021632537}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"a4c2d087-5364-4afa-9a0c-67e6b0a83a3e\", :values ({:x 0, :y 1.0} {:x 1, :y 0.8989199993243598} {:x 2, :y 0.6012264322527066} {:x 3, :y 0.20728721591523996} {:x 4, :y -0.12469131936494138} {:x 5, :y -0.3203010307328177} {:x 6, :y -0.31739157814328817} {:x 7, :y -0.15150573303836484} {:x 8, :y -0.06853590752776278} {:x 9, :y -0.10208675189016087} {:x 10, :y -0.19283938714614973} {:x 11, :y -0.3041667425077898} {:x 12, :y -0.42784503777028354} {:x 13, :y -0.5637214990503191} {:x 14, :y -0.6436598262165486} {:x 15, :y -0.556461294499259} {:x 16, :y -0.2826385812681396} {:x 17, :y 0.11807334789353377} {:x 18, :y 0.4857189638152173} {:x 19, :y 0.6913021306892096} {:x 20, :y 0.7055517780524226} {:x 21, :y 0.5722506308257261} {:x 22, :y 0.4000601259592323} {:x 23, :y 0.23736876923428954} {:x 24, :y 0.09480122223273243} {:x 25, :y 0.002793018560010379} {:x 26, :y 0.020435421146520638} {:x 27, :y 0.18915121210814076} {:x 28, :y 0.29559964634164904} {:x 29, :y 0.19155971053107798} {:x 30, :y -0.0645389453160641} {:x 31, :y -0.41199979729428904} {:x 32, :y -0.763745857310267} {:x 33, :y -0.9658147523027288} {:x 34, :y -0.9654151842309668} {:x 35, :y -0.7619189567478477} {:x 36, :y -0.3814639881360723} {:x 37, :y 0.019681487608635063} {:x 38, :y 0.30436890958202917} {:x 39, :y 0.4084348587488139} {:x 40, :y 0.3033511287685211} {:x 41, :y 0.16377080098790794} {:x 42, :y 0.13211037924768504} {:x 43, :y 0.1669624228955047} {:x 44, :y 0.22685663153362629} {:x 45, :y 0.29920237325085636} {:x 46, :y 0.3977196592588333} {:x 47, :y 0.5249176269470148} {:x 48, :y 0.5665113600861779} {:x 49, :y 0.4151813933396576} {:x 50, :y 0.08338014259205495} {:x 51, :y -0.33945776612654516} {:x 52, :y -0.6729538983437577} {:x 53, :y -0.8190943458030526} {:x 54, :y -0.7667122609067734} {:x 55, :y -0.56613996650745} {:x 56, :y -0.3329280745275617} {:x 57, :y -0.12105327215003012} {:x 58, :y 0.04288629562864375} {:x 59, :y 0.10675009790370402} {:x 60, :y -0.0012246218471329813} {:x 61, :y -0.19771048010865605} {:x 62, :y -0.20836327111761377} {:x 63, :y -0.0473430071408562} {:x 64, :y 0.21536863452407284} {:x 65, :y 0.5318501320376852} {:x 66, :y 0.8203389351107336} {:x 67, :y 0.945085561544485} {:x 68, :y 0.8656880388502126} {:x 69, :y 0.5839868233179135} {:x 70, :y 0.15939401082395943} {:x 71, :y -0.22285894688591146} {:x 72, :y -0.44779233210495223} {:x 73, :y -0.4661579631173108} {:x 74, :y -0.32575683393984084} {:x 75, :y -0.22180368665005942} {:x 76, :y -0.18818819244095603} {:x 77, :y -0.18576678271842334} {:x 78, :y -0.1968715179619533} {:x 79, :y -0.23362802935287189} {:x 80, :y -0.33158415336253816} {:x 81, :y -0.4725833079380909} {:x 82, :y -0.47279998117485894} {:x 83, :y -0.26485131605566004} {:x 84, :y 0.10776493903368044} {:x 85, :y 0.5367584498139469} {:x 86, :y 0.8344521790576684} {:x 87, :y 0.9313115251190204} {:x 88, :y 0.8240013888669246} {:x 89, :y 0.5514799939720119} {:x 90, :y 0.24539114522050504} {:x 91, :y -0.014205895564683798} {:x 92, :y -0.18284774301861834} {:x 93, :y -0.19271063152967646} {:x 94, :y -0.006238381238316786} {:x 95, :y 0.12534591122174707} {:x 96, :y 0.07394787024428637} {:x 97, :y -0.09041820089881154} {:x 98, :y -0.31111406108502415} {:x 99, :y -0.5577880624881791} {:x 100, :y -0.7747457021632537})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; **Omega**
;; **

;; @@
(plot/list-plot (mapv first data_omega1))
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"1e764571-c0c7-47ca-be13-b1db246ab32a","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"1e764571-c0c7-47ca-be13-b1db246ab32a","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"1e764571-c0c7-47ca-be13-b1db246ab32a"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"1e764571-c0c7-47ca-be13-b1db246ab32a","values":[{"x":0,"y":0.5},{"x":1,"y":0.5273773323698951},{"x":2,"y":0.6150146061532324},{"x":3,"y":0.6867637450857415},{"x":4,"y":0.6128755226651414},{"x":5,"y":0.3759753033776718},{"x":6,"y":-0.00891222272756455},{"x":7,"y":-0.4859843812105411},{"x":8,"y":-0.8596378945099428},{"x":9,"y":-1.0880175001724761},{"x":10,"y":-1.1855488923462065},{"x":11,"y":-1.1575073908741338},{"x":12,"y":-1.0063385347323577},{"x":13,"y":-0.7409760400090484},{"x":14,"y":-0.42663491254056624},{"x":15,"y":-0.16332995583459806},{"x":16,"y":0.00313006770448885},{"x":17,"y":0.07657583412271292},{"x":18,"y":0.1636055429524412},{"x":19,"y":0.3409737545282742},{"x":20,"y":0.5938523347108549},{"x":21,"y":0.8689500002921885},{"x":22,"y":1.0703696819982962},{"x":23,"y":1.1499902909294584},{"x":24,"y":1.09921817125142},{"x":25,"y":0.9148241706177372},{"x":26,"y":0.5887099607550005},{"x":27,"y":0.11546087486737448},{"x":28,"y":-0.3352012939175865},{"x":29,"y":-0.6374287103167247},{"x":30,"y":-0.7847775717140719},{"x":31,"y":-0.7671413329890023},{"x":32,"y":-0.637892645069462},{"x":33,"y":-0.5291651228069204},{"x":34,"y":-0.4769995584447674},{"x":35,"y":-0.48575035287369117},{"x":36,"y":-0.5532310885650046},{"x":37,"y":-0.5531692758934087},{"x":38,"y":-0.3912589310921021},{"x":39,"y":-0.0779292378679363},{"x":40,"y":0.3606477936759421},{"x":41,"y":0.7774445959489588},{"x":42,"y":1.052618500116024},{"x":43,"y":1.1955554771672163},{"x":44,"y":1.2153438737438662},{"x":45,"y":1.1141115554095216},{"x":46,"y":0.8889440285610497},{"x":47,"y":0.5513810440539018},{"x":48,"y":0.20244026369872878},{"x":49,"y":-0.05681057672314274},{"x":50,"y":-0.19160561660471556},{"x":51,"y":-0.2285229711276155},{"x":52,"y":-0.2989790415121534},{"x":53,"y":-0.45480098142639636},{"x":54,"y":-0.6749425063827657},{"x":55,"y":-0.9094739078608727},{"x":56,"y":-1.0575241567889448},{"x":57,"y":-1.0698642995934966},{"x":58,"y":-0.9397360032321105},{"x":59,"y":-0.6674124464434056},{"x":60,"y":-0.2399759747967363},{"x":61,"y":0.2667689694170905},{"x":62,"y":0.6400580579094078},{"x":63,"y":0.8623641661791187},{"x":64,"y":0.9296901822527296},{"x":65,"y":0.8414607796897818},{"x":66,"y":0.6619901861846117},{"x":67,"y":0.5084990646688763},{"x":68,"y":0.4130530475111119},{"x":69,"y":0.3918159994019021},{"x":70,"y":0.4201765296637072},{"x":71,"y":0.3507218638943464},{"x":72,"y":0.12668887943057722},{"x":73,"y":-0.2295676834221329},{"x":74,"y":-0.65183281816219},{"x":75,"y":-0.9792526718782775},{"x":76,"y":-1.1714530923300341},{"x":77,"y":-1.2398543020068622},{"x":78,"y":-1.188508569195829},{"x":79,"y":-1.0145663696594325},{"x":80,"y":-0.7077893015816162},{"x":81,"y":-0.29694687500599043},{"x":82,"y":0.06550229656748253},{"x":83,"y":0.301772028672801},{"x":84,"y":0.3872985570654786},{"x":85,"y":0.36943128095627253},{"x":86,"y":0.39598336347445034},{"x":87,"y":0.49961026012135046},{"x":88,"y":0.6624847467718888},{"x":89,"y":0.8519426659243755},{"x":90,"y":0.9543707079885553},{"x":91,"y":0.9045250714705957},{"x":92,"y":0.7006813353503054},{"x":93,"y":0.34712433586419034},{"x":94,"y":-0.1521973416376246},{"x":95,"y":-0.6015989351938787},{"x":96,"y":-0.8940901509067573},{"x":97,"y":-1.0427348850024962},{"x":98,"y":-1.0464947142202496},{"x":99,"y":-0.9108663835615147},{"x":100,"y":-0.6852351460783989}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"1e764571-c0c7-47ca-be13-b1db246ab32a\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"1e764571-c0c7-47ca-be13-b1db246ab32a\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"1e764571-c0c7-47ca-be13-b1db246ab32a\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"1e764571-c0c7-47ca-be13-b1db246ab32a\", :values ({:x 0, :y 0.5} {:x 1, :y 0.5273773323698951} {:x 2, :y 0.6150146061532324} {:x 3, :y 0.6867637450857415} {:x 4, :y 0.6128755226651414} {:x 5, :y 0.3759753033776718} {:x 6, :y -0.00891222272756455} {:x 7, :y -0.4859843812105411} {:x 8, :y -0.8596378945099428} {:x 9, :y -1.0880175001724761} {:x 10, :y -1.1855488923462065} {:x 11, :y -1.1575073908741338} {:x 12, :y -1.0063385347323577} {:x 13, :y -0.7409760400090484} {:x 14, :y -0.42663491254056624} {:x 15, :y -0.16332995583459806} {:x 16, :y 0.00313006770448885} {:x 17, :y 0.07657583412271292} {:x 18, :y 0.1636055429524412} {:x 19, :y 0.3409737545282742} {:x 20, :y 0.5938523347108549} {:x 21, :y 0.8689500002921885} {:x 22, :y 1.0703696819982962} {:x 23, :y 1.1499902909294584} {:x 24, :y 1.09921817125142} {:x 25, :y 0.9148241706177372} {:x 26, :y 0.5887099607550005} {:x 27, :y 0.11546087486737448} {:x 28, :y -0.3352012939175865} {:x 29, :y -0.6374287103167247} {:x 30, :y -0.7847775717140719} {:x 31, :y -0.7671413329890023} {:x 32, :y -0.637892645069462} {:x 33, :y -0.5291651228069204} {:x 34, :y -0.4769995584447674} {:x 35, :y -0.48575035287369117} {:x 36, :y -0.5532310885650046} {:x 37, :y -0.5531692758934087} {:x 38, :y -0.3912589310921021} {:x 39, :y -0.0779292378679363} {:x 40, :y 0.3606477936759421} {:x 41, :y 0.7774445959489588} {:x 42, :y 1.052618500116024} {:x 43, :y 1.1955554771672163} {:x 44, :y 1.2153438737438662} {:x 45, :y 1.1141115554095216} {:x 46, :y 0.8889440285610497} {:x 47, :y 0.5513810440539018} {:x 48, :y 0.20244026369872878} {:x 49, :y -0.05681057672314274} {:x 50, :y -0.19160561660471556} {:x 51, :y -0.2285229711276155} {:x 52, :y -0.2989790415121534} {:x 53, :y -0.45480098142639636} {:x 54, :y -0.6749425063827657} {:x 55, :y -0.9094739078608727} {:x 56, :y -1.0575241567889448} {:x 57, :y -1.0698642995934966} {:x 58, :y -0.9397360032321105} {:x 59, :y -0.6674124464434056} {:x 60, :y -0.2399759747967363} {:x 61, :y 0.2667689694170905} {:x 62, :y 0.6400580579094078} {:x 63, :y 0.8623641661791187} {:x 64, :y 0.9296901822527296} {:x 65, :y 0.8414607796897818} {:x 66, :y 0.6619901861846117} {:x 67, :y 0.5084990646688763} {:x 68, :y 0.4130530475111119} {:x 69, :y 0.3918159994019021} {:x 70, :y 0.4201765296637072} {:x 71, :y 0.3507218638943464} {:x 72, :y 0.12668887943057722} {:x 73, :y -0.2295676834221329} {:x 74, :y -0.65183281816219} {:x 75, :y -0.9792526718782775} {:x 76, :y -1.1714530923300341} {:x 77, :y -1.2398543020068622} {:x 78, :y -1.188508569195829} {:x 79, :y -1.0145663696594325} {:x 80, :y -0.7077893015816162} {:x 81, :y -0.29694687500599043} {:x 82, :y 0.06550229656748253} {:x 83, :y 0.301772028672801} {:x 84, :y 0.3872985570654786} {:x 85, :y 0.36943128095627253} {:x 86, :y 0.39598336347445034} {:x 87, :y 0.49961026012135046} {:x 88, :y 0.6624847467718888} {:x 89, :y 0.8519426659243755} {:x 90, :y 0.9543707079885553} {:x 91, :y 0.9045250714705957} {:x 92, :y 0.7006813353503054} {:x 93, :y 0.34712433586419034} {:x 94, :y -0.1521973416376246} {:x 95, :y -0.6015989351938787} {:x 96, :y -0.8940901509067573} {:x 97, :y -1.0427348850024962} {:x 98, :y -1.0464947142202496} {:x 99, :y -0.9108663835615147} {:x 100, :y -0.6852351460783989})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; As well as the variables themselves, sines, cosines and squares of the variables are used as terminal nodes of the expression trees. The branch nodes are arithmetic operators.
;; **

;; @@
(def vars '[theta1 omega1 theta2 omega2 cos-omega1 sin-omega1 cos-theta1 sin-theta1 theta1-sq omega1-sq cos-omega2 sin-omega2 cos-theta2 sin-theta2 theta2-sq omega2-sq])

(count vars)

(def functions (expression/get-functions #{:plus :minus :times}))

(def terminals (expression/terminal-generators vars))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;flow.runs.doublependulum/terminals</span>","value":"#'flow.runs.doublependulum/terminals"}
;; <=

;; **
;;; This function transforms expressions in our biased grammar into canonical algebolic expressions.
;; **

;; @@
(defn grammar-replace
  [expr]
  (walk/postwalk-replace
    {'sin-theta1 '[:sin theta1]
     'cos-theta1 '[:cos theta1]
     'sin-omega1 '[:sin omega1]
     'cos-omega1 '[:cos omega1]
     'theta1-sq '[:times theta1 theta1]
     'omega1-sq '[:times omega1 omega1]
     'theta1-cube '[:times [:times theta1 theta1] theta1]
     'omega1-cube '[:times [:times omega1 omega1] omega1]
     'theta1-four '[:times [:times theta1 theta1] [:times theta1 theta1]]
     'omega1-four '[:times [:times omega1 omega1] [:times omega1 omega1]]
     'sin-theta2 '[:sin theta2]
     'cos-theta2 '[:cos theta2]
     'sin-omega2 '[:sin omega2]
     'cos-omega2 '[:cos omega2]
     'theta2-sq '[:times theta2 theta2]
     'omega2-sq '[:times omega2 omega2]
     'theta2-cube '[:times [:times theta2 theta2] theta2]
     'omega2-cube '[:times [:times omega2 omega2] omega2]
     'theta2-four '[:times [:times theta2 theta2] [:times theta2 theta2]]
     'omega2-four '[:times [:times omega2 omega2] [:times omega2 omega2]]
     } expr))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;flow.runs.doublependulum/grammar-replace</span>","value":"#'flow.runs.doublependulum/grammar-replace"}
;; <=

;; **
;;; Configure the evolutionary algorithm. See the darwin code for details.
;; **

;; @@
(def generation-config
  (let [size-limit 50
        ;;min-size 1
        ea-config (spea2/spea2-config
                    {:goals [:error :complexity]
                     :archive-size 50
                     :comparison-depth 3
                     :deduplicate true
                     :binary-ops [{:op (partial genetics/ninety-ten-sl-crossover size-limit) :repeat 45}]
                     :unary-ops [{:op (partial genetics/random-tree-mutation functions terminals 5) :repeat 10}]})
        score-functions {:complexity (fn [x] (+ (* 0.0 (tree/depth x)) (* 1.0 (tree/count-nodes x))))
                         :error      (fn [e] (lagrangian/lagrange-score-mmd
                                               (lagrangian/prepare-lagrange-mmd-data dat t-step '[theta1 theta2])
                                               t-step '[theta1 theta2] '[omega1 omega2] (grammar-replace e)))}]
    {:ea-config          ea-config
     :transformations    [(partial transform/apply-to-fraction-of-genotypes
                                   (partial transform/hill-descent
                                            genetics/twiddle-constants
                                            (:error score-functions))
                                   0.20)
                          (partial transform/apply-to-all-genotypes
                                   (partial genetics/trim-hard size-limit))
                          #_(partial transform/apply-to-all-genotypes
                                     (partial genetics/boost-hard min-size
                                              #(genetics/random-full-tree functions terminals 3)))]
     :score-functions    score-functions
     :reporting-function (fn [z] (print ".") lagrangian/lagrange-score-mmd-inspector (flush))}))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;flow.runs.doublependulum/generation-config</span>","value":"#'flow.runs.doublependulum/generation-config"}
;; <=

;; **
;;; Create an initial population and evolve for a number of generations.
;; **

;; @@
(def initial-zeitgeist (evolution/make-zeitgeist (genetics/full-population functions terminals 100 7)))

; A quick look at the first population 

(mma/fullform (grammar-replace (:genotype (first (initial-zeitgeist :rabble)))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-string'>&quot;Subtract[Subtract[Cos[theta1], Times[theta2, theta2]], Times[Sin[omega2], omega2]]&quot;</span>","value":"\"Subtract[Subtract[Cos[theta1], Times[theta2, theta2]], Times[Sin[omega2], omega2]]\""}
;; <=

;; @@
(time (def result (evolution/run-evolution
                    generation-config
                    initial-zeitgeist
                    (fn [zg gc] (>= (:age zg) 1500)))))
;; @@
;; ->
;;; ............................................................................................................................................................................................................................................................................................................................................................................................
;; <-

;; **
;;; Look at the best error as a function of generation number.
;; **

;; @@
(plot/list-plot (:min (:error @metrics/metrics)) :joined true)
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"41c986d8-5e68-4fcb-a984-3eb29f9da51e","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"41c986d8-5e68-4fcb-a984-3eb29f9da51e","field":"data.y"}}],"marks":[{"type":"line","from":{"data":"41c986d8-5e68-4fcb-a984-3eb29f9da51e"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"stroke":{"value":"#FF29D2"},"strokeWidth":{"value":2},"strokeOpacity":{"value":1}}}}],"data":[{"name":"41c986d8-5e68-4fcb-a984-3eb29f9da51e","values":[{"x":0,"y":3.842727865093023},{"x":1,"y":3.197726517899251},{"x":2,"y":3.197726517899251},{"x":3,"y":3.058464673348209},{"x":4,"y":-0.2498656642268841},{"x":5,"y":-0.2498656642268841},{"x":6,"y":-0.6447069785512535},{"x":7,"y":-2.4175954226751672},{"x":8,"y":-3.2312365221881345},{"x":9,"y":-5.557315985535259},{"x":10,"y":-6.883962215852926},{"x":11,"y":-12.018896854573214},{"x":12,"y":-15.85057327507348},{"x":13,"y":-15.9002532991801},{"x":14,"y":-16.512749682169364},{"x":15,"y":-16.54535887807298},{"x":16,"y":-16.595306297981676},{"x":17,"y":-16.595306297981676},{"x":18,"y":-16.595306297981676},{"x":19,"y":-16.595306297981676},{"x":20,"y":-16.595306297981676},{"x":21,"y":-16.595306297981676},{"x":22,"y":-16.64591184183828},{"x":23,"y":-16.64591184183828},{"x":24,"y":-16.64591184183828},{"x":25,"y":-16.64591184183828},{"x":26,"y":-16.64591184183828},{"x":27,"y":-16.674694267984822},{"x":28,"y":-16.674694267984822},{"x":29,"y":-16.703704225349124},{"x":30,"y":-16.703704225349124},{"x":31,"y":-16.703704225349124},{"x":32,"y":-16.718845320374662},{"x":33,"y":-16.718845320374662},{"x":34,"y":-16.734807277018227},{"x":35,"y":-16.734807277018227},{"x":36,"y":-16.734807277018227},{"x":37,"y":-16.76382481358482},{"x":38,"y":-16.76382481358482},{"x":39,"y":-16.76382481358482},{"x":40,"y":-16.76382481358482},{"x":41,"y":-16.76382481358482},{"x":42,"y":-16.80631310099792},{"x":43,"y":-16.810250910796324},{"x":44,"y":-16.810250910796324},{"x":45,"y":-16.866563915881457},{"x":46,"y":-16.866563915881457},{"x":47,"y":-16.866563915881457},{"x":48,"y":-16.866563915881457},{"x":49,"y":-16.866563915881457},{"x":50,"y":-16.891345143013847},{"x":51,"y":-16.891345143013847},{"x":52,"y":-16.891345143013847},{"x":53,"y":-16.891345143013847},{"x":54,"y":-16.908042758026284},{"x":55,"y":-17.130666007462988},{"x":56,"y":-17.130666007462988},{"x":57,"y":-17.130666007462988},{"x":58,"y":-17.130666007462988},{"x":59,"y":-17.130666007462988},{"x":60,"y":-17.130666007462988},{"x":61,"y":-17.130666007462988},{"x":62,"y":-17.130666007462988},{"x":63,"y":-17.130666007462988},{"x":64,"y":-17.130666007462988},{"x":65,"y":-17.130666007462988},{"x":66,"y":-17.130666007462988},{"x":67,"y":-17.130666007462988},{"x":68,"y":-17.130666007462988},{"x":69,"y":-17.130666007462988},{"x":70,"y":-17.130666007462988},{"x":71,"y":-17.23811240266721},{"x":72,"y":-17.23811240266721},{"x":73,"y":-17.23811240266721},{"x":74,"y":-17.23811240266721},{"x":75,"y":-17.23811240266721},{"x":76,"y":-17.23811240266721},{"x":77,"y":-17.23811240266721},{"x":78,"y":-17.23811240266721},{"x":79,"y":-17.23811240266721},{"x":80,"y":-17.23811240266721},{"x":81,"y":-17.23811240266721},{"x":82,"y":-17.23811240266721},{"x":83,"y":-17.23811240266721},{"x":84,"y":-17.29504494193266},{"x":85,"y":-17.29504494193266},{"x":86,"y":-17.29504494193266},{"x":87,"y":-17.29504494193266},{"x":88,"y":-17.29504494193266},{"x":89,"y":-17.29504494193266},{"x":90,"y":-17.29504494193266},{"x":91,"y":-17.29504494193266},{"x":92,"y":-17.29504494193266},{"x":93,"y":-17.29504494193266},{"x":94,"y":-17.29504494193266},{"x":95,"y":-17.29504494193266},{"x":96,"y":-17.29504494193266},{"x":97,"y":-17.29504494193266},{"x":98,"y":-17.29504494193266},{"x":99,"y":-17.29504494193266},{"x":100,"y":-17.29504494193266},{"x":101,"y":-17.29504494193266},{"x":102,"y":-17.29504494193266},{"x":103,"y":-17.29504494193266},{"x":104,"y":-17.29504494193266},{"x":105,"y":-17.29504494193266},{"x":106,"y":-17.29504494193266},{"x":107,"y":-17.29504494193266},{"x":108,"y":-17.29504494193266},{"x":109,"y":-17.29504494193266},{"x":110,"y":-17.29504494193266},{"x":111,"y":-17.29504494193266},{"x":112,"y":-17.29504494193266},{"x":113,"y":-17.29504494193266},{"x":114,"y":-17.29504494193266},{"x":115,"y":-17.29504494193266},{"x":116,"y":-17.29504494193266},{"x":117,"y":-17.29504494193266},{"x":118,"y":-17.29504494193266},{"x":119,"y":-17.29504494193266},{"x":120,"y":-17.29504494193266},{"x":121,"y":-17.29504494193266},{"x":122,"y":-17.29504494193266},{"x":123,"y":-17.29504494193266},{"x":124,"y":-17.29504494193266},{"x":125,"y":-17.29504494193266},{"x":126,"y":-17.29504494193266},{"x":127,"y":-17.29504494193266},{"x":128,"y":-17.29504494193266},{"x":129,"y":-17.29504494193266},{"x":130,"y":-17.29504494193266},{"x":131,"y":-17.29504494193266},{"x":132,"y":-17.29504494193266},{"x":133,"y":-17.29504494193266},{"x":134,"y":-17.29504494193266},{"x":135,"y":-17.29504494193266},{"x":136,"y":-17.29504494193266},{"x":137,"y":-17.29504494193266},{"x":138,"y":-17.29504494193266},{"x":139,"y":-17.29504494193266},{"x":140,"y":-17.29504494193266},{"x":141,"y":-17.29504494193266},{"x":142,"y":-17.29504494193266},{"x":143,"y":-17.29504494193266},{"x":144,"y":-17.29504494193266},{"x":145,"y":-17.29504494193266},{"x":146,"y":-17.29504494193266},{"x":147,"y":-17.29504494193266},{"x":148,"y":-17.29504494193266},{"x":149,"y":-17.29504494193266},{"x":150,"y":-17.29504494193266},{"x":151,"y":-17.29504494193266},{"x":152,"y":-17.29504494193266},{"x":153,"y":-17.29504494193266},{"x":154,"y":-17.29504494193266},{"x":155,"y":-17.29504494193266},{"x":156,"y":-17.29504494193266},{"x":157,"y":-17.29504494193266},{"x":158,"y":-17.29504494193266},{"x":159,"y":-17.29504494193266},{"x":160,"y":-17.29504494193266},{"x":161,"y":-17.29504494193266},{"x":162,"y":-17.29504494193266},{"x":163,"y":-17.29504494193266},{"x":164,"y":-17.29504494193266},{"x":165,"y":-17.29504494193266},{"x":166,"y":-17.29504494193266},{"x":167,"y":-17.29504494193266},{"x":168,"y":-17.29504494193266},{"x":169,"y":-17.29504494193266},{"x":170,"y":-17.29504494193266},{"x":171,"y":-17.29504494193266},{"x":172,"y":-17.29504494193266},{"x":173,"y":-17.29504494193266},{"x":174,"y":-17.29504494193266},{"x":175,"y":-17.29504494193266},{"x":176,"y":-17.29504494193266},{"x":177,"y":-17.29504494193266},{"x":178,"y":-17.29504494193266},{"x":179,"y":-17.29504494193266},{"x":180,"y":-17.29504494193266},{"x":181,"y":-17.29504494193266},{"x":182,"y":-17.29504494193266},{"x":183,"y":-17.29504494193266},{"x":184,"y":-17.29504494193266},{"x":185,"y":-17.29504494193266},{"x":186,"y":-17.29504494193266},{"x":187,"y":-17.29504494193266},{"x":188,"y":-17.29504494193266},{"x":189,"y":-17.29504494193266},{"x":190,"y":-17.29504494193266},{"x":191,"y":-17.29504494193266},{"x":192,"y":-17.29504494193266},{"x":193,"y":-17.29504494193266},{"x":194,"y":-17.29504494193266},{"x":195,"y":-17.29504494193266},{"x":196,"y":-17.29504494193266},{"x":197,"y":-17.29504494193266},{"x":198,"y":-17.29504494193266},{"x":199,"y":-17.29504494193266}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"41c986d8-5e68-4fcb-a984-3eb29f9da51e\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"41c986d8-5e68-4fcb-a984-3eb29f9da51e\", :field \"data.y\"}}], :marks [{:type \"line\", :from {:data \"41c986d8-5e68-4fcb-a984-3eb29f9da51e\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :stroke {:value \"#FF29D2\"}, :strokeWidth {:value 2}, :strokeOpacity {:value 1}}}}], :data [{:name \"41c986d8-5e68-4fcb-a984-3eb29f9da51e\", :values ({:x 0, :y 3.842727865093023} {:x 1, :y 3.197726517899251} {:x 2, :y 3.197726517899251} {:x 3, :y 3.058464673348209} {:x 4, :y -0.2498656642268841} {:x 5, :y -0.2498656642268841} {:x 6, :y -0.6447069785512535} {:x 7, :y -2.4175954226751672} {:x 8, :y -3.2312365221881345} {:x 9, :y -5.557315985535259} {:x 10, :y -6.883962215852926} {:x 11, :y -12.018896854573214} {:x 12, :y -15.85057327507348} {:x 13, :y -15.9002532991801} {:x 14, :y -16.512749682169364} {:x 15, :y -16.54535887807298} {:x 16, :y -16.595306297981676} {:x 17, :y -16.595306297981676} {:x 18, :y -16.595306297981676} {:x 19, :y -16.595306297981676} {:x 20, :y -16.595306297981676} {:x 21, :y -16.595306297981676} {:x 22, :y -16.64591184183828} {:x 23, :y -16.64591184183828} {:x 24, :y -16.64591184183828} {:x 25, :y -16.64591184183828} {:x 26, :y -16.64591184183828} {:x 27, :y -16.674694267984822} {:x 28, :y -16.674694267984822} {:x 29, :y -16.703704225349124} {:x 30, :y -16.703704225349124} {:x 31, :y -16.703704225349124} {:x 32, :y -16.718845320374662} {:x 33, :y -16.718845320374662} {:x 34, :y -16.734807277018227} {:x 35, :y -16.734807277018227} {:x 36, :y -16.734807277018227} {:x 37, :y -16.76382481358482} {:x 38, :y -16.76382481358482} {:x 39, :y -16.76382481358482} {:x 40, :y -16.76382481358482} {:x 41, :y -16.76382481358482} {:x 42, :y -16.80631310099792} {:x 43, :y -16.810250910796324} {:x 44, :y -16.810250910796324} {:x 45, :y -16.866563915881457} {:x 46, :y -16.866563915881457} {:x 47, :y -16.866563915881457} {:x 48, :y -16.866563915881457} {:x 49, :y -16.866563915881457} {:x 50, :y -16.891345143013847} {:x 51, :y -16.891345143013847} {:x 52, :y -16.891345143013847} {:x 53, :y -16.891345143013847} {:x 54, :y -16.908042758026284} {:x 55, :y -17.130666007462988} {:x 56, :y -17.130666007462988} {:x 57, :y -17.130666007462988} {:x 58, :y -17.130666007462988} {:x 59, :y -17.130666007462988} {:x 60, :y -17.130666007462988} {:x 61, :y -17.130666007462988} {:x 62, :y -17.130666007462988} {:x 63, :y -17.130666007462988} {:x 64, :y -17.130666007462988} {:x 65, :y -17.130666007462988} {:x 66, :y -17.130666007462988} {:x 67, :y -17.130666007462988} {:x 68, :y -17.130666007462988} {:x 69, :y -17.130666007462988} {:x 70, :y -17.130666007462988} {:x 71, :y -17.23811240266721} {:x 72, :y -17.23811240266721} {:x 73, :y -17.23811240266721} {:x 74, :y -17.23811240266721} {:x 75, :y -17.23811240266721} {:x 76, :y -17.23811240266721} {:x 77, :y -17.23811240266721} {:x 78, :y -17.23811240266721} {:x 79, :y -17.23811240266721} {:x 80, :y -17.23811240266721} {:x 81, :y -17.23811240266721} {:x 82, :y -17.23811240266721} {:x 83, :y -17.23811240266721} {:x 84, :y -17.29504494193266} {:x 85, :y -17.29504494193266} {:x 86, :y -17.29504494193266} {:x 87, :y -17.29504494193266} {:x 88, :y -17.29504494193266} {:x 89, :y -17.29504494193266} {:x 90, :y -17.29504494193266} {:x 91, :y -17.29504494193266} {:x 92, :y -17.29504494193266} {:x 93, :y -17.29504494193266} {:x 94, :y -17.29504494193266} {:x 95, :y -17.29504494193266} {:x 96, :y -17.29504494193266} {:x 97, :y -17.29504494193266} {:x 98, :y -17.29504494193266} {:x 99, :y -17.29504494193266} {:x 100, :y -17.29504494193266} {:x 101, :y -17.29504494193266} {:x 102, :y -17.29504494193266} {:x 103, :y -17.29504494193266} {:x 104, :y -17.29504494193266} {:x 105, :y -17.29504494193266} {:x 106, :y -17.29504494193266} {:x 107, :y -17.29504494193266} {:x 108, :y -17.29504494193266} {:x 109, :y -17.29504494193266} {:x 110, :y -17.29504494193266} {:x 111, :y -17.29504494193266} {:x 112, :y -17.29504494193266} {:x 113, :y -17.29504494193266} {:x 114, :y -17.29504494193266} {:x 115, :y -17.29504494193266} {:x 116, :y -17.29504494193266} {:x 117, :y -17.29504494193266} {:x 118, :y -17.29504494193266} {:x 119, :y -17.29504494193266} {:x 120, :y -17.29504494193266} {:x 121, :y -17.29504494193266} {:x 122, :y -17.29504494193266} {:x 123, :y -17.29504494193266} {:x 124, :y -17.29504494193266} {:x 125, :y -17.29504494193266} {:x 126, :y -17.29504494193266} {:x 127, :y -17.29504494193266} {:x 128, :y -17.29504494193266} {:x 129, :y -17.29504494193266} {:x 130, :y -17.29504494193266} {:x 131, :y -17.29504494193266} {:x 132, :y -17.29504494193266} {:x 133, :y -17.29504494193266} {:x 134, :y -17.29504494193266} {:x 135, :y -17.29504494193266} {:x 136, :y -17.29504494193266} {:x 137, :y -17.29504494193266} {:x 138, :y -17.29504494193266} {:x 139, :y -17.29504494193266} {:x 140, :y -17.29504494193266} {:x 141, :y -17.29504494193266} {:x 142, :y -17.29504494193266} {:x 143, :y -17.29504494193266} {:x 144, :y -17.29504494193266} {:x 145, :y -17.29504494193266} {:x 146, :y -17.29504494193266} {:x 147, :y -17.29504494193266} {:x 148, :y -17.29504494193266} {:x 149, :y -17.29504494193266} {:x 150, :y -17.29504494193266} {:x 151, :y -17.29504494193266} {:x 152, :y -17.29504494193266} {:x 153, :y -17.29504494193266} {:x 154, :y -17.29504494193266} {:x 155, :y -17.29504494193266} {:x 156, :y -17.29504494193266} {:x 157, :y -17.29504494193266} {:x 158, :y -17.29504494193266} {:x 159, :y -17.29504494193266} {:x 160, :y -17.29504494193266} {:x 161, :y -17.29504494193266} {:x 162, :y -17.29504494193266} {:x 163, :y -17.29504494193266} {:x 164, :y -17.29504494193266} {:x 165, :y -17.29504494193266} {:x 166, :y -17.29504494193266} {:x 167, :y -17.29504494193266} {:x 168, :y -17.29504494193266} {:x 169, :y -17.29504494193266} {:x 170, :y -17.29504494193266} {:x 171, :y -17.29504494193266} {:x 172, :y -17.29504494193266} {:x 173, :y -17.29504494193266} {:x 174, :y -17.29504494193266} {:x 175, :y -17.29504494193266} {:x 176, :y -17.29504494193266} {:x 177, :y -17.29504494193266} {:x 178, :y -17.29504494193266} {:x 179, :y -17.29504494193266} {:x 180, :y -17.29504494193266} {:x 181, :y -17.29504494193266} {:x 182, :y -17.29504494193266} {:x 183, :y -17.29504494193266} {:x 184, :y -17.29504494193266} {:x 185, :y -17.29504494193266} {:x 186, :y -17.29504494193266} {:x 187, :y -17.29504494193266} {:x 188, :y -17.29504494193266} {:x 189, :y -17.29504494193266} {:x 190, :y -17.29504494193266} {:x 191, :y -17.29504494193266} {:x 192, :y -17.29504494193266} {:x 193, :y -17.29504494193266} {:x 194, :y -17.29504494193266} {:x 195, :y -17.29504494193266} {:x 196, :y -17.29504494193266} {:x 197, :y -17.29504494193266} {:x 198, :y -17.29504494193266} {:x 199, :y -17.29504494193266})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; Examine the pareto front.
;; **

;; @@
(rutil/pareto-plot-population [:complexity :error] result)
;; @@
;; =>
;;; {"type":"vega","content":{"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50},"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"26818da9-3c2d-4f89-aecd-682aec94094d","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"26818da9-3c2d-4f89-aecd-682aec94094d","field":"data.y"}}],"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"data":[{"name":"26818da9-3c2d-4f89-aecd-682aec94094d","values":[{"x":49.0,"y":-17.29504494193266},{"x":1.0,"y":4.094658114269642},{"x":43.0,"y":-15.934609552055122},{"x":3.0,"y":-0.35511714321884474},{"x":37.0,"y":-13.245610777526599},{"x":39.0,"y":-14.270660275328828},{"x":41.0,"y":-15.115026445640101},{"x":47.0,"y":-16.798022317729874},{"x":45.0,"y":-16.505055131588787},{"x":35.0,"y":-12.305668427897874},{"x":5.0,"y":-0.5912383500323275},{"x":33.0,"y":-11.277560365690505},{"x":29.0,"y":-9.275066256010145},{"x":31.0,"y":-10.282311619812381},{"x":19.0,"y":-4.613717105285237},{"x":25.0,"y":-7.23694511001786},{"x":23.0,"y":-6.285656639716333},{"x":21.0,"y":-5.382439192159604},{"x":27.0,"y":-8.22767477293594},{"x":7.0,"y":-0.6847833648549159},{"x":13.0,"y":-2.7209117533229192},{"x":9.0,"y":-1.5541380742100943},{"x":15.0,"y":-3.0307052166254222},{"x":11.0,"y":-1.9900173554155638},{"x":17.0,"y":-3.6139378648773515},{"x":41.0,"y":-14.822894088817716},{"x":49.0,"y":-17.1277683204727},{"x":43.0,"y":-15.694208020286494},{"x":45.0,"y":-16.382779468090177},{"x":37.0,"y":-13.09493738623597},{"x":41.0,"y":-14.747799090579283},{"x":35.0,"y":-11.799477813415365},{"x":21.0,"y":-5.380903753740867},{"x":43.0,"y":-15.453123506328588},{"x":49.0,"y":-16.882140215398344},{"x":29.0,"y":-9.272859587244891},{"x":39.0,"y":-14.076761478818847},{"x":19.0,"y":-4.6124589407822025},{"x":15.0,"y":-2.972843621360632},{"x":25.0,"y":-7.235904092754367},{"x":23.0,"y":-6.283989667596974},{"x":27.0,"y":-8.22535289665665},{"x":9.0,"y":-1.4672799794847675},{"x":33.0,"y":-11.272989766868772},{"x":13.0,"y":-2.522074415150523},{"x":29.0,"y":-8.742475497123342},{"x":19.0,"y":-4.0620423844938065},{"x":29.0,"y":-8.600160900111744},{"x":33.0,"y":-10.806839350879814},{"x":1.0,"y":42.189569773328394}]},{"name":"73634100-cede-4c31-a279-1855ac295076","values":[{"x":31.0,"y":-9.044142890904848},{"x":33.0,"y":-4.071495410298837},{"x":11.0,"y":15.107611701601524},{"x":1.0,"y":41.9071565901663},{"x":1.0,"y":42.189569773328394},{"x":5.0,"y":27.92209573887261},{"x":25.0,"y":-6.639264828068558},{"x":41.0,"y":-14.26269893588329},{"x":41.0,"y":-14.420198478218378},{"x":43.0,"y":-14.638721001424285},{"x":33.0,"y":-10.161015377332951},{"x":47.0,"y":-16.798022317729874},{"x":29.0,"y":-7.454548225392378},{"x":41.0,"y":-14.747799090579283},{"x":29.0,"y":-9.272416790601412},{"x":49.0,"y":-16.938045965690733},{"x":31.0,"y":-9.659538682470652},{"x":43.0,"y":-15.35054030874273},{"x":3.0,"y":4.23169231743593},{"x":27.0,"y":-3.9712815819549006},{"x":39.0,"y":-13.683302495239968},{"x":15.0,"y":-1.8627887362831232},{"x":27.0,"y":-8.19197294768213},{"x":43.0,"y":-15.410739903978493},{"x":43.0,"y":-15.452151638471024},{"x":13.0,"y":-1.865458876448193},{"x":37.0,"y":-13.237631427261231},{"x":13.0,"y":-1.8381534015063965},{"x":19.0,"y":-4.6124589407822025},{"x":49.0,"y":-16.938045965690733},{"x":41.0,"y":-14.608004054824832},{"x":31.0,"y":-9.789877285653459},{"x":37.0,"y":-13.09493738623597},{"x":27.0,"y":-8.22535289665665},{"x":47.0,"y":-16.15452831242578},{"x":5.0,"y":4.8725791762191415},{"x":21.0,"y":-5.380906688586124},{"x":7.0,"y":-0.6155415519098916},{"x":23.0,"y":-0.4274531720569069},{"x":7.0,"y":2.8143594935910285},{"x":27.0,"y":-3.018478120626726},{"x":9.0,"y":-0.42758360122562916},{"x":39.0,"y":-12.71311287565247},{"x":45.0,"y":-15.911183892274183},{"x":25.0,"y":-5.6322483341627665},{"x":31.0,"y":-4.98237184628254},{"x":45.0,"y":-8.563651602782173},{"x":15.0,"y":-2.415786441358752},{"x":41.0,"y":-8.964775911802844},{"x":3.0,"y":4.23169231743593},{"x":25.0,"y":-5.779571066459446},{"x":3.0,"y":36.26862635644948},{"x":15.0,"y":-1.8897399476778998},{"x":43.0,"y":-15.60290341670837},{"x":15.0,"y":4.800884984670353},{"x":39.0,"y":-11.96454931891277},{"x":45.0,"y":-15.4900035883916},{"x":35.0,"y":-9.702282928839725},{"x":7.0,"y":-0.6323597982880369},{"x":37.0,"y":-13.168037640650704},{"x":41.0,"y":-14.747799090579283},{"x":25.0,"y":-7.161274626000508},{"x":37.0,"y":-12.76068770835201},{"x":43.0,"y":-15.841193440500406},{"x":49.0,"y":-17.1277683204727},{"x":39.0,"y":-12.084836597516157},{"x":3.0,"y":37.49358401071059},{"x":35.0,"y":-11.724476099164894},{"x":3.0,"y":-0.35511714321884474},{"x":15.0,"y":-3.0307052166254222},{"x":49.0,"y":-17.130666007462988},{"x":35.0,"y":-7.7618380006637615},{"x":39.0,"y":-12.47275283080164},{"x":13.0,"y":5.092783333848464},{"x":15.0,"y":-2.5298642527254716},{"x":27.0,"y":-6.222713462516568},{"x":17.0,"y":-2.743911075390783},{"x":23.0,"y":-5.282819883355122},{"x":17.0,"y":-0.39859091741179103},{"x":21.0,"y":-3.24478228212405},{"x":27.0,"y":-8.01239814942595},{"x":41.0,"y":-14.956563436014859},{"x":3.0,"y":4.23169231743593},{"x":27.0,"y":-5.970500817279942},{"x":45.0,"y":-14.958335981789201},{"x":5.0,"y":5.443152346209991},{"x":23.0,"y":-6.285656639716333},{"x":49.0,"y":-16.882140215398344},{"x":3.0,"y":4.783905256680267},{"x":9.0,"y":-0.57092461251683},{"x":9.0,"y":-0.4275836012256299},{"x":39.0,"y":-12.849289068760916},{"x":9.0,"y":-0.5857944778429318},{"x":19.0,"y":-3.4298763922253657},{"x":5.0,"y":3.058464673348209},{"x":45.0,"y":-16.505055131588787},{"x":39.0,"y":-13.229356372078986},{"x":35.0,"y":-11.661436168409862},{"x":3.0,"y":5.805715875392714},{"x":45.0,"y":-16.382779468090177}]},{"name":"4df068b6-4baa-4119-ab68-da714924a557","values":[{"x":49.0,"y":-17.29504494193266},{"x":1.0,"y":4.094658114269642},{"x":43.0,"y":-15.934609552055122},{"x":3.0,"y":-0.35511714321884474},{"x":37.0,"y":-13.245610777526599},{"x":39.0,"y":-14.270660275328828},{"x":41.0,"y":-15.115026445640101},{"x":47.0,"y":-16.798022317729874},{"x":45.0,"y":-16.505055131588787},{"x":35.0,"y":-12.305668427897874},{"x":5.0,"y":-0.5912383500323275},{"x":33.0,"y":-11.277560365690505},{"x":29.0,"y":-9.275066256010145},{"x":31.0,"y":-10.282311619812381},{"x":19.0,"y":-4.613717105285237},{"x":25.0,"y":-7.23694511001786},{"x":23.0,"y":-6.285656639716333},{"x":21.0,"y":-5.382439192159604},{"x":27.0,"y":-8.22767477293594},{"x":7.0,"y":-0.6847833648549159},{"x":13.0,"y":-2.7209117533229192},{"x":9.0,"y":-1.5541380742100943},{"x":15.0,"y":-3.0307052166254222},{"x":11.0,"y":-1.9900173554155638},{"x":17.0,"y":-3.6139378648773515}]}],"marks":[{"type":"symbol","from":{"data":"26818da9-3c2d-4f89-aecd-682aec94094d"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"red"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"symbol","from":{"data":"73634100-cede-4c31-a279-1855ac295076"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"blue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}},{"type":"symbol","from":{"data":"4df068b6-4baa-4119-ab68-da714924a557"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"#ff29d2"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}]},"value":"#gorilla_repl.vega.VegaView{:content {:width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}, :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"26818da9-3c2d-4f89-aecd-682aec94094d\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"26818da9-3c2d-4f89-aecd-682aec94094d\", :field \"data.y\"}}], :axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :data ({:name \"26818da9-3c2d-4f89-aecd-682aec94094d\", :values ({:x 49.0, :y -17.29504494193266} {:x 1.0, :y 4.094658114269642} {:x 43.0, :y -15.934609552055122} {:x 3.0, :y -0.35511714321884474} {:x 37.0, :y -13.245610777526599} {:x 39.0, :y -14.270660275328828} {:x 41.0, :y -15.115026445640101} {:x 47.0, :y -16.798022317729874} {:x 45.0, :y -16.505055131588787} {:x 35.0, :y -12.305668427897874} {:x 5.0, :y -0.5912383500323275} {:x 33.0, :y -11.277560365690505} {:x 29.0, :y -9.275066256010145} {:x 31.0, :y -10.282311619812381} {:x 19.0, :y -4.613717105285237} {:x 25.0, :y -7.23694511001786} {:x 23.0, :y -6.285656639716333} {:x 21.0, :y -5.382439192159604} {:x 27.0, :y -8.22767477293594} {:x 7.0, :y -0.6847833648549159} {:x 13.0, :y -2.7209117533229192} {:x 9.0, :y -1.5541380742100943} {:x 15.0, :y -3.0307052166254222} {:x 11.0, :y -1.9900173554155638} {:x 17.0, :y -3.6139378648773515} {:x 41.0, :y -14.822894088817716} {:x 49.0, :y -17.1277683204727} {:x 43.0, :y -15.694208020286494} {:x 45.0, :y -16.382779468090177} {:x 37.0, :y -13.09493738623597} {:x 41.0, :y -14.747799090579283} {:x 35.0, :y -11.799477813415365} {:x 21.0, :y -5.380903753740867} {:x 43.0, :y -15.453123506328588} {:x 49.0, :y -16.882140215398344} {:x 29.0, :y -9.272859587244891} {:x 39.0, :y -14.076761478818847} {:x 19.0, :y -4.6124589407822025} {:x 15.0, :y -2.972843621360632} {:x 25.0, :y -7.235904092754367} {:x 23.0, :y -6.283989667596974} {:x 27.0, :y -8.22535289665665} {:x 9.0, :y -1.4672799794847675} {:x 33.0, :y -11.272989766868772} {:x 13.0, :y -2.522074415150523} {:x 29.0, :y -8.742475497123342} {:x 19.0, :y -4.0620423844938065} {:x 29.0, :y -8.600160900111744} {:x 33.0, :y -10.806839350879814} {:x 1.0, :y 42.189569773328394})} {:name \"73634100-cede-4c31-a279-1855ac295076\", :values ({:x 31.0, :y -9.044142890904848} {:x 33.0, :y -4.071495410298837} {:x 11.0, :y 15.107611701601524} {:x 1.0, :y 41.9071565901663} {:x 1.0, :y 42.189569773328394} {:x 5.0, :y 27.92209573887261} {:x 25.0, :y -6.639264828068558} {:x 41.0, :y -14.26269893588329} {:x 41.0, :y -14.420198478218378} {:x 43.0, :y -14.638721001424285} {:x 33.0, :y -10.161015377332951} {:x 47.0, :y -16.798022317729874} {:x 29.0, :y -7.454548225392378} {:x 41.0, :y -14.747799090579283} {:x 29.0, :y -9.272416790601412} {:x 49.0, :y -16.938045965690733} {:x 31.0, :y -9.659538682470652} {:x 43.0, :y -15.35054030874273} {:x 3.0, :y 4.23169231743593} {:x 27.0, :y -3.9712815819549006} {:x 39.0, :y -13.683302495239968} {:x 15.0, :y -1.8627887362831232} {:x 27.0, :y -8.19197294768213} {:x 43.0, :y -15.410739903978493} {:x 43.0, :y -15.452151638471024} {:x 13.0, :y -1.865458876448193} {:x 37.0, :y -13.237631427261231} {:x 13.0, :y -1.8381534015063965} {:x 19.0, :y -4.6124589407822025} {:x 49.0, :y -16.938045965690733} {:x 41.0, :y -14.608004054824832} {:x 31.0, :y -9.789877285653459} {:x 37.0, :y -13.09493738623597} {:x 27.0, :y -8.22535289665665} {:x 47.0, :y -16.15452831242578} {:x 5.0, :y 4.8725791762191415} {:x 21.0, :y -5.380906688586124} {:x 7.0, :y -0.6155415519098916} {:x 23.0, :y -0.4274531720569069} {:x 7.0, :y 2.8143594935910285} {:x 27.0, :y -3.018478120626726} {:x 9.0, :y -0.42758360122562916} {:x 39.0, :y -12.71311287565247} {:x 45.0, :y -15.911183892274183} {:x 25.0, :y -5.6322483341627665} {:x 31.0, :y -4.98237184628254} {:x 45.0, :y -8.563651602782173} {:x 15.0, :y -2.415786441358752} {:x 41.0, :y -8.964775911802844} {:x 3.0, :y 4.23169231743593} {:x 25.0, :y -5.779571066459446} {:x 3.0, :y 36.26862635644948} {:x 15.0, :y -1.8897399476778998} {:x 43.0, :y -15.60290341670837} {:x 15.0, :y 4.800884984670353} {:x 39.0, :y -11.96454931891277} {:x 45.0, :y -15.4900035883916} {:x 35.0, :y -9.702282928839725} {:x 7.0, :y -0.6323597982880369} {:x 37.0, :y -13.168037640650704} {:x 41.0, :y -14.747799090579283} {:x 25.0, :y -7.161274626000508} {:x 37.0, :y -12.76068770835201} {:x 43.0, :y -15.841193440500406} {:x 49.0, :y -17.1277683204727} {:x 39.0, :y -12.084836597516157} {:x 3.0, :y 37.49358401071059} {:x 35.0, :y -11.724476099164894} {:x 3.0, :y -0.35511714321884474} {:x 15.0, :y -3.0307052166254222} {:x 49.0, :y -17.130666007462988} {:x 35.0, :y -7.7618380006637615} {:x 39.0, :y -12.47275283080164} {:x 13.0, :y 5.092783333848464} {:x 15.0, :y -2.5298642527254716} {:x 27.0, :y -6.222713462516568} {:x 17.0, :y -2.743911075390783} {:x 23.0, :y -5.282819883355122} {:x 17.0, :y -0.39859091741179103} {:x 21.0, :y -3.24478228212405} {:x 27.0, :y -8.01239814942595} {:x 41.0, :y -14.956563436014859} {:x 3.0, :y 4.23169231743593} {:x 27.0, :y -5.970500817279942} {:x 45.0, :y -14.958335981789201} {:x 5.0, :y 5.443152346209991} {:x 23.0, :y -6.285656639716333} {:x 49.0, :y -16.882140215398344} {:x 3.0, :y 4.783905256680267} {:x 9.0, :y -0.57092461251683} {:x 9.0, :y -0.4275836012256299} {:x 39.0, :y -12.849289068760916} {:x 9.0, :y -0.5857944778429318} {:x 19.0, :y -3.4298763922253657} {:x 5.0, :y 3.058464673348209} {:x 45.0, :y -16.505055131588787} {:x 39.0, :y -13.229356372078986} {:x 35.0, :y -11.661436168409862} {:x 3.0, :y 5.805715875392714} {:x 45.0, :y -16.382779468090177})} {:name \"4df068b6-4baa-4119-ab68-da714924a557\", :values ({:x 49.0, :y -17.29504494193266} {:x 1.0, :y 4.094658114269642} {:x 43.0, :y -15.934609552055122} {:x 3.0, :y -0.35511714321884474} {:x 37.0, :y -13.245610777526599} {:x 39.0, :y -14.270660275328828} {:x 41.0, :y -15.115026445640101} {:x 47.0, :y -16.798022317729874} {:x 45.0, :y -16.505055131588787} {:x 35.0, :y -12.305668427897874} {:x 5.0, :y -0.5912383500323275} {:x 33.0, :y -11.277560365690505} {:x 29.0, :y -9.275066256010145} {:x 31.0, :y -10.282311619812381} {:x 19.0, :y -4.613717105285237} {:x 25.0, :y -7.23694511001786} {:x 23.0, :y -6.285656639716333} {:x 21.0, :y -5.382439192159604} {:x 27.0, :y -8.22767477293594} {:x 7.0, :y -0.6847833648549159} {:x 13.0, :y -2.7209117533229192} {:x 9.0, :y -1.5541380742100943} {:x 15.0, :y -3.0307052166254222} {:x 11.0, :y -1.9900173554155638} {:x 17.0, :y -3.6139378648773515})}), :marks ({:type \"symbol\", :from {:data \"26818da9-3c2d-4f89-aecd-682aec94094d\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"red\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"symbol\", :from {:data \"73634100-cede-4c31-a279-1855ac295076\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"blue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}} {:type \"symbol\", :from {:data \"4df068b6-4baa-4119-ab68-da714924a557\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"#ff29d2\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}})}}"}
;; <=

;; **
;;; Inspect an element of the pareto front. We are interested in the simplest expression with a low error.
;; **

;; @@
;(def n 28)
;(def r (nth (map :genotype (sort-by :complexity (:elite result))) n))

;(tree/count-nodes r)

;(def rr (grammar-replace r))

;(tree/count-nodes rr)

;(lagrangian/lagrange-score-mmd-print
;  (lagrangian/prepare-lagrange-mmd-data dat t-step '[theta1 theta1])
;  t-step '[theta1 theta2] '[omega1 omega2] rr)

;(render/mathematician-view rr)

;(mma/fullform rr)

;rr
;; @@

;; @@
(defn renderer
  [n]
  (render/mathematician-view (grammar-replace (nth (map :genotype (sort-by :complexity (:elite result))) n))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;flow.runs.doublependulum/render-birch</span>","value":"#'flow.runs.doublependulum/render-birch"}
;; <=

;; @@
(defn score-inspector 
  [n] 
(lagrangian/lagrange-score-mmd-inspector
  (lagrangian/prepare-lagrange-mmd-data dat t-step '[theta1 theta1])
  t-step '[theta1 theta2] '[omega1 omega2]
  (grammar-replace (nth (map :genotype (sort-by :complexity (:elite result))) n))))
;; @@
;; =>
;;; {"type":"html","content":"<span class='clj-var'>#&#x27;flow.runs.doublependulum/score-inspector</span>","value":"#'flow.runs.doublependulum/score-inspector"}
;; <=

;; @@
;(map (fn [n] (score-inspector n)) (vec (range 1 50)))
;; @@

;; **
;;; it is the case that the normal scores are going very small:
;; **

;; @@
;(map (fn [x] (/ (last x) 1)) (map (fn [n] (score-inspector n)) (vec (range 1 50))))
;; @@

;; **
;;; After 750 generations the fake scores were very large (~ thousands), but after 2000 gen they have reduced again:
;; **

;; @@
;(map second (map (fn [n] (score-inspector n)) (vec (range 1 50))))
;; @@

;; @@
;(map (fn [x] (/ (first x) (last x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))

;; @@

;; @@
;(nth (map (fn [n] (score-inspector n)) (vec (range 1 50))) 12)
;; @@

;; **
;;; plot of the elites (increasing complexity) (x-axis) against true-score/norm-score
;; **

;; **
;;; #-------------------------------------
;;; #Gen: 200
;; **

;; @@
;(ED(L))
(plot/list-plot (map second (map (fn [n] (score-inspector n)) (vec (range 1 50)))))

; Ec(L)/U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map (fn [x] (/ (last x) (second x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map last (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log Ec(L)
(plot/list-plot (map (fn [x] (Math/log x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50))))))
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"592abd4f-c26a-4ead-b430-9c4e8038d344","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"592abd4f-c26a-4ead-b430-9c4e8038d344","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"592abd4f-c26a-4ead-b430-9c4e8038d344"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"592abd4f-c26a-4ead-b430-9c4e8038d344","values":[{"x":0,"y":4.29160468246766},{"x":1,"y":4.350487183380256},{"x":2,"y":0.7144832607202148},{"x":3,"y":-0.8744964451869015},{"x":4,"y":-0.5694947728853785},{"x":5,"y":-0.6995785734037424},{"x":6,"y":-1.6909738560368397},{"x":7,"y":-0.6156907281667275},{"x":8,"y":-1.6295643978541754},{"x":9,"y":-0.9358524485890936},{"x":10,"y":-4.5974005710087935},{"x":11,"y":-1.5486840307171723},{"x":12,"y":-1.4935212508128313},{"x":13,"y":-6.991213786177573},{"x":14,"y":-6.257234340821394},{"x":15,"y":-7.945744334075961},{"x":16,"y":-7.29566169755762},{"x":17,"y":-9.283899339360003},{"x":18,"y":-8.936581250442265},{"x":19,"y":-7.6064457240619765},{"x":20,"y":-10.340205257903337},{"x":21,"y":-10.11861839925538},{"x":22,"y":-11.546707620286316},{"x":23,"y":-11.371999362589076},{"x":24,"y":-10.591012818395436},{"x":25,"y":-12.907805408217358},{"x":26,"y":-12.2033810977283},{"x":27,"y":-13.877431837758417},{"x":28,"y":-12.588982642725126},{"x":29,"y":-15.389162273493037},{"x":30,"y":-14.832016125907009},{"x":31,"y":-14.187795385172025},{"x":32,"y":-16.316537317453726},{"x":33,"y":-16.065107091389336},{"x":34,"y":-17.815755856091453},{"x":35,"y":-18.79244530168335},{"x":36,"y":-18.775741999244357},{"x":37,"y":-20.210980964641116},{"x":38,"y":-20.210980964641116},{"x":39,"y":-21.307758099647888},{"x":40,"y":-21.236551878664198},{"x":41,"y":-22.589452783086816},{"x":42,"y":-23.8205260024712},{"x":43,"y":-23.667782856940367},{"x":44,"y":-24.85201404905184},{"x":45,"y":-24.68550322346726},{"x":46,"y":-24.313387260251044},{"x":47,"y":-23.13213896096255},{"x":48,"y":-22.904697458612798}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"592abd4f-c26a-4ead-b430-9c4e8038d344\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"592abd4f-c26a-4ead-b430-9c4e8038d344\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"592abd4f-c26a-4ead-b430-9c4e8038d344\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"592abd4f-c26a-4ead-b430-9c4e8038d344\", :values ({:x 0, :y 4.29160468246766} {:x 1, :y 4.350487183380256} {:x 2, :y 0.7144832607202148} {:x 3, :y -0.8744964451869015} {:x 4, :y -0.5694947728853785} {:x 5, :y -0.6995785734037424} {:x 6, :y -1.6909738560368397} {:x 7, :y -0.6156907281667275} {:x 8, :y -1.6295643978541754} {:x 9, :y -0.9358524485890936} {:x 10, :y -4.5974005710087935} {:x 11, :y -1.5486840307171723} {:x 12, :y -1.4935212508128313} {:x 13, :y -6.991213786177573} {:x 14, :y -6.257234340821394} {:x 15, :y -7.945744334075961} {:x 16, :y -7.29566169755762} {:x 17, :y -9.283899339360003} {:x 18, :y -8.936581250442265} {:x 19, :y -7.6064457240619765} {:x 20, :y -10.340205257903337} {:x 21, :y -10.11861839925538} {:x 22, :y -11.546707620286316} {:x 23, :y -11.371999362589076} {:x 24, :y -10.591012818395436} {:x 25, :y -12.907805408217358} {:x 26, :y -12.2033810977283} {:x 27, :y -13.877431837758417} {:x 28, :y -12.588982642725126} {:x 29, :y -15.389162273493037} {:x 30, :y -14.832016125907009} {:x 31, :y -14.187795385172025} {:x 32, :y -16.316537317453726} {:x 33, :y -16.065107091389336} {:x 34, :y -17.815755856091453} {:x 35, :y -18.79244530168335} {:x 36, :y -18.775741999244357} {:x 37, :y -20.210980964641116} {:x 38, :y -20.210980964641116} {:x 39, :y -21.307758099647888} {:x 40, :y -21.236551878664198} {:x 41, :y -22.589452783086816} {:x 42, :y -23.8205260024712} {:x 43, :y -23.667782856940367} {:x 44, :y -24.85201404905184} {:x 45, :y -24.68550322346726} {:x 46, :y -24.313387260251044} {:x 47, :y -23.13213896096255} {:x 48, :y -22.904697458612798})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; #Gen: 400
;; **

;; @@
;(ED(L))
(plot/list-plot (map second (map (fn [n] (score-inspector n)) (vec (range 1 50)))))

; Ec(L)/U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map (fn [x] (/ (last x) (second x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map last (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log Ec(L)
(plot/list-plot (map (fn [x] (Math/log x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50))))))
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"f68ada07-6142-4cd8-b9f3-36b81d8c79cd","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"f68ada07-6142-4cd8-b9f3-36b81d8c79cd","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"f68ada07-6142-4cd8-b9f3-36b81d8c79cd"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"f68ada07-6142-4cd8-b9f3-36b81d8c79cd","values":[{"x":0,"y":4.29160468246766},{"x":1,"y":-0.24965636317402778},{"x":2,"y":-0.8744964451869015},{"x":3,"y":-1.1648511894251359},{"x":4,"y":-0.6995785734037424},{"x":5,"y":-0.6995785734037423},{"x":6,"y":-1.6039028221401417},{"x":7,"y":-1.6909738560368393},{"x":8,"y":-0.6156907281667275},{"x":9,"y":-0.13874532817939875},{"x":10,"y":-1.6295643978541756},{"x":11,"y":-5.36159640917955},{"x":12,"y":-0.9842018519715973},{"x":13,"y":-0.9842018519715973},{"x":14,"y":-7.374517554548798},{"x":15,"y":-7.531965546579672},{"x":16,"y":-8.704336823824898},{"x":17,"y":-9.764420544165556},{"x":18,"y":-9.764420544165556},{"x":19,"y":-9.460146820964479},{"x":20,"y":-10.893986530388704},{"x":21,"y":-12.069476426382963},{"x":22,"y":-12.037662436298993},{"x":23,"y":-13.279804937155307},{"x":24,"y":-13.076623637532277},{"x":25,"y":-14.496769169432183},{"x":26,"y":-14.376008195984703},{"x":27,"y":-13.877431837758419},{"x":28,"y":-15.68406664961853},{"x":29,"y":-15.615131342995982},{"x":30,"y":-15.389162273493037},{"x":31,"y":-16.82635643495345},{"x":32,"y":-17.815755856091453},{"x":33,"y":-19.067829970983283},{"x":34,"y":-20.210980964641116},{"x":35,"y":-19.512934368931788},{"x":36,"y":-19.52803099750281},{"x":37,"y":-21.307758099647888},{"x":38,"y":-20.69441466161745},{"x":39,"y":-22.589452783086816},{"x":40,"y":-21.694860607128344},{"x":41,"y":-22.978841480955598},{"x":42,"y":-22.262158984516798},{"x":43,"y":-23.8205260024712},{"x":44,"y":-23.667782856940367},{"x":45,"y":-24.85201404905184},{"x":46,"y":-23.132138960962546},{"x":47,"y":-25.671237532910006},{"x":48,"y":-26.317023150411465}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f68ada07-6142-4cd8-b9f3-36b81d8c79cd\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f68ada07-6142-4cd8-b9f3-36b81d8c79cd\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"f68ada07-6142-4cd8-b9f3-36b81d8c79cd\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"f68ada07-6142-4cd8-b9f3-36b81d8c79cd\", :values ({:x 0, :y 4.29160468246766} {:x 1, :y -0.24965636317402778} {:x 2, :y -0.8744964451869015} {:x 3, :y -1.1648511894251359} {:x 4, :y -0.6995785734037424} {:x 5, :y -0.6995785734037423} {:x 6, :y -1.6039028221401417} {:x 7, :y -1.6909738560368393} {:x 8, :y -0.6156907281667275} {:x 9, :y -0.13874532817939875} {:x 10, :y -1.6295643978541756} {:x 11, :y -5.36159640917955} {:x 12, :y -0.9842018519715973} {:x 13, :y -0.9842018519715973} {:x 14, :y -7.374517554548798} {:x 15, :y -7.531965546579672} {:x 16, :y -8.704336823824898} {:x 17, :y -9.764420544165556} {:x 18, :y -9.764420544165556} {:x 19, :y -9.460146820964479} {:x 20, :y -10.893986530388704} {:x 21, :y -12.069476426382963} {:x 22, :y -12.037662436298993} {:x 23, :y -13.279804937155307} {:x 24, :y -13.076623637532277} {:x 25, :y -14.496769169432183} {:x 26, :y -14.376008195984703} {:x 27, :y -13.877431837758419} {:x 28, :y -15.68406664961853} {:x 29, :y -15.615131342995982} {:x 30, :y -15.389162273493037} {:x 31, :y -16.82635643495345} {:x 32, :y -17.815755856091453} {:x 33, :y -19.067829970983283} {:x 34, :y -20.210980964641116} {:x 35, :y -19.512934368931788} {:x 36, :y -19.52803099750281} {:x 37, :y -21.307758099647888} {:x 38, :y -20.69441466161745} {:x 39, :y -22.589452783086816} {:x 40, :y -21.694860607128344} {:x 41, :y -22.978841480955598} {:x 42, :y -22.262158984516798} {:x 43, :y -23.8205260024712} {:x 44, :y -23.667782856940367} {:x 45, :y -24.85201404905184} {:x 46, :y -23.132138960962546} {:x 47, :y -25.671237532910006} {:x 48, :y -26.317023150411465})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; #Gen: 600
;; **

;; @@
;(ED(L))
(plot/list-plot (map second (map (fn [n] (score-inspector n)) (vec (range 1 50)))))

; Ec(L)/U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map (fn [x] (/ (last x) (second x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map last (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log Ec(L)
(plot/list-plot (map (fn [x] (Math/log x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"bdcf6072-35d9-49ba-a3f4-00a665f01999","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"bdcf6072-35d9-49ba-a3f4-00a665f01999","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"bdcf6072-35d9-49ba-a3f4-00a665f01999"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"bdcf6072-35d9-49ba-a3f4-00a665f01999","values":[{"x":0,"y":-0.23936429457750338},{"x":1,"y":-0.6275045963152583},{"x":2,"y":-0.0881064508430041},{"x":3,"y":-0.641779545224275},{"x":4,"y":-0.7288595135306848},{"x":5,"y":0.24639993488563403},{"x":6,"y":-0.6156907281667275},{"x":7,"y":-0.02086625139362029},{"x":8,"y":-0.55910994500568},{"x":9,"y":-5.203092547457074},{"x":10,"y":-0.16405763975741436},{"x":11,"y":-0.24493800689441797},{"x":12,"y":-7.558767527057367},{"x":13,"y":-7.448050144227956},{"x":14,"y":-8.492367205921157},{"x":15,"y":-8.513648054954736},{"x":16,"y":-8.000198249619123},{"x":17,"y":-9.779810843456128},{"x":18,"y":-9.765057180639479},{"x":19,"y":-10.839872257455555},{"x":20,"y":-10.872321568238487},{"x":21,"y":-10.4624523889919},{"x":22,"y":-11.971737906673578},{"x":23,"y":-12.089869477152009},{"x":24,"y":-13.087573703522931},{"x":25,"y":-14.144524481212942},{"x":26,"y":-13.606490378854623},{"x":27,"y":-13.51764070555456},{"x":28,"y":-15.049741532974368},{"x":29,"y":-15.049741532974368},{"x":30,"y":-16.04471536441151},{"x":31,"y":-16.389447707023304},{"x":32,"y":-16.93903225294277},{"x":33,"y":-15.399212107731724},{"x":34,"y":-17.325840400328634},{"x":35,"y":-17.25797959033183},{"x":36,"y":-18.57000359907455},{"x":37,"y":-18.57000359907455},{"x":38,"y":-19.78882237059218},{"x":39,"y":-19.81613903195727},{"x":40,"y":-21.046913975616107},{"x":41,"y":-21.067658897704955},{"x":42,"y":-22.125220758586856},{"x":43,"y":-21.966297740910083},{"x":44,"y":-23.48493201323175},{"x":45,"y":-24.539224547623494},{"x":46,"y":-23.147177499080023},{"x":47,"y":-22.871039808322074},{"x":48,"y":-24.419911683291094}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"bdcf6072-35d9-49ba-a3f4-00a665f01999\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"bdcf6072-35d9-49ba-a3f4-00a665f01999\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"bdcf6072-35d9-49ba-a3f4-00a665f01999\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"bdcf6072-35d9-49ba-a3f4-00a665f01999\", :values ({:x 0, :y -0.23936429457750338} {:x 1, :y -0.6275045963152583} {:x 2, :y -0.0881064508430041} {:x 3, :y -0.641779545224275} {:x 4, :y -0.7288595135306848} {:x 5, :y 0.24639993488563403} {:x 6, :y -0.6156907281667275} {:x 7, :y -0.02086625139362029} {:x 8, :y -0.55910994500568} {:x 9, :y -5.203092547457074} {:x 10, :y -0.16405763975741436} {:x 11, :y -0.24493800689441797} {:x 12, :y -7.558767527057367} {:x 13, :y -7.448050144227956} {:x 14, :y -8.492367205921157} {:x 15, :y -8.513648054954736} {:x 16, :y -8.000198249619123} {:x 17, :y -9.779810843456128} {:x 18, :y -9.765057180639479} {:x 19, :y -10.839872257455555} {:x 20, :y -10.872321568238487} {:x 21, :y -10.4624523889919} {:x 22, :y -11.971737906673578} {:x 23, :y -12.089869477152009} {:x 24, :y -13.087573703522931} {:x 25, :y -14.144524481212942} {:x 26, :y -13.606490378854623} {:x 27, :y -13.51764070555456} {:x 28, :y -15.049741532974368} {:x 29, :y -15.049741532974368} {:x 30, :y -16.04471536441151} {:x 31, :y -16.389447707023304} {:x 32, :y -16.93903225294277} {:x 33, :y -15.399212107731724} {:x 34, :y -17.325840400328634} {:x 35, :y -17.25797959033183} {:x 36, :y -18.57000359907455} {:x 37, :y -18.57000359907455} {:x 38, :y -19.78882237059218} {:x 39, :y -19.81613903195727} {:x 40, :y -21.046913975616107} {:x 41, :y -21.067658897704955} {:x 42, :y -22.125220758586856} {:x 43, :y -21.966297740910083} {:x 44, :y -23.48493201323175} {:x 45, :y -24.539224547623494} {:x 46, :y -23.147177499080023} {:x 47, :y -22.871039808322074} {:x 48, :y -24.419911683291094})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; #Gen: 800
;; **

;; @@
;(ED(L))
(plot/list-plot (map second (map (fn [n] (score-inspector n)) (vec (range 1 50)))))

; Ec(L)/U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map (fn [x] (/ (last x) (second x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map last (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log Ec(L)
(plot/list-plot (map (fn [x] (Math/log x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"f12768b9-1d33-480f-8fc2-4356b90baee1","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"f12768b9-1d33-480f-8fc2-4356b90baee1","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"f12768b9-1d33-480f-8fc2-4356b90baee1"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"f12768b9-1d33-480f-8fc2-4356b90baee1","values":[{"x":0,"y":4.29160468246766},{"x":1,"y":0.7144832607202148},{"x":2,"y":-0.8744964451869015},{"x":3,"y":-0.6995785734037424},{"x":4,"y":-1.1138258283345304},{"x":5,"y":-1.6909738560368397},{"x":6,"y":-0.6156907281667277},{"x":7,"y":-2.1461960324501477},{"x":8,"y":-1.6295643978541756},{"x":9,"y":-4.5974005710087935},{"x":10,"y":-0.9079678163378648},{"x":11,"y":-5.722284794005426},{"x":12,"y":-6.991213786177573},{"x":13,"y":-7.945744334075961},{"x":14,"y":-7.945744334075961},{"x":15,"y":-9.283899339360003},{"x":16,"y":-8.77396712440138},{"x":17,"y":-8.56760264077361},{"x":18,"y":-10.340205257903337},{"x":19,"y":-10.163848792113637},{"x":20,"y":-11.546707620286316},{"x":21,"y":-11.546707620286316},{"x":22,"y":-11.371999362589076},{"x":23,"y":-12.907805408217358},{"x":24,"y":-12.595864243313569},{"x":25,"y":-13.877431837758419},{"x":26,"y":-13.82085061735637},{"x":27,"y":-13.411622195899922},{"x":28,"y":-15.389162273493037},{"x":29,"y":-14.628665014720116},{"x":30,"y":-14.37386555780295},{"x":31,"y":-16.316537317453726},{"x":32,"y":-16.326040144502034},{"x":33,"y":-17.815755856091453},{"x":34,"y":-18.79244530168335},{"x":35,"y":-18.775741999244357},{"x":36,"y":-20.210980964641116},{"x":37,"y":-20.210980964641116},{"x":38,"y":-19.136114411158076},{"x":39,"y":-21.307758099647888},{"x":40,"y":-22.589452783086816},{"x":41,"y":-22.188813457755806},{"x":42,"y":-21.432513199218818},{"x":43,"y":-23.8205260024712},{"x":44,"y":-23.29138127127793},{"x":45,"y":-22.79938989211739},{"x":46,"y":-24.85201404905184},{"x":47,"y":-23.132138960962546},{"x":48,"y":-22.845344603552988}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"f12768b9-1d33-480f-8fc2-4356b90baee1\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"f12768b9-1d33-480f-8fc2-4356b90baee1\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"f12768b9-1d33-480f-8fc2-4356b90baee1\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"f12768b9-1d33-480f-8fc2-4356b90baee1\", :values ({:x 0, :y 4.29160468246766} {:x 1, :y 0.7144832607202148} {:x 2, :y -0.8744964451869015} {:x 3, :y -0.6995785734037424} {:x 4, :y -1.1138258283345304} {:x 5, :y -1.6909738560368397} {:x 6, :y -0.6156907281667277} {:x 7, :y -2.1461960324501477} {:x 8, :y -1.6295643978541756} {:x 9, :y -4.5974005710087935} {:x 10, :y -0.9079678163378648} {:x 11, :y -5.722284794005426} {:x 12, :y -6.991213786177573} {:x 13, :y -7.945744334075961} {:x 14, :y -7.945744334075961} {:x 15, :y -9.283899339360003} {:x 16, :y -8.77396712440138} {:x 17, :y -8.56760264077361} {:x 18, :y -10.340205257903337} {:x 19, :y -10.163848792113637} {:x 20, :y -11.546707620286316} {:x 21, :y -11.546707620286316} {:x 22, :y -11.371999362589076} {:x 23, :y -12.907805408217358} {:x 24, :y -12.595864243313569} {:x 25, :y -13.877431837758419} {:x 26, :y -13.82085061735637} {:x 27, :y -13.411622195899922} {:x 28, :y -15.389162273493037} {:x 29, :y -14.628665014720116} {:x 30, :y -14.37386555780295} {:x 31, :y -16.316537317453726} {:x 32, :y -16.326040144502034} {:x 33, :y -17.815755856091453} {:x 34, :y -18.79244530168335} {:x 35, :y -18.775741999244357} {:x 36, :y -20.210980964641116} {:x 37, :y -20.210980964641116} {:x 38, :y -19.136114411158076} {:x 39, :y -21.307758099647888} {:x 40, :y -22.589452783086816} {:x 41, :y -22.188813457755806} {:x 42, :y -21.432513199218818} {:x 43, :y -23.8205260024712} {:x 44, :y -23.29138127127793} {:x 45, :y -22.79938989211739} {:x 46, :y -24.85201404905184} {:x 47, :y -23.132138960962546} {:x 48, :y -22.845344603552988})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; #Gen: 1000
;; **

;; @@
;(ED(L))
(plot/list-plot (map second (map (fn [n] (score-inspector n)) (vec (range 1 50)))))

; Ec(L)/U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map (fn [x] (/ (last x) (second x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map last (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log Ec(L)
(plot/list-plot (map (fn [x] (Math/log x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50))))))
;; @@
;; =>
;;; {"type":"vega","content":{"axes":[{"scale":"x","type":"x"},{"scale":"y","type":"y"}],"scales":[{"name":"x","type":"linear","range":"width","zero":false,"domain":{"data":"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac","field":"data.x"}},{"name":"y","type":"linear","range":"height","nice":true,"zero":false,"domain":{"data":"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac","field":"data.y"}}],"marks":[{"type":"symbol","from":{"data":"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac"},"properties":{"enter":{"x":{"scale":"x","field":"data.x"},"y":{"scale":"y","field":"data.y"},"fill":{"value":"steelblue"},"fillOpacity":{"value":1}},"update":{"shape":"circle","size":{"value":70},"stroke":{"value":"transparent"}},"hover":{"size":{"value":210},"stroke":{"value":"white"}}}}],"data":[{"name":"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac","values":[{"x":0,"y":4.29160468246766},{"x":1,"y":4.532599493153256},{"x":2,"y":5.223601132469395},{"x":3,"y":0.7144832607202148},{"x":4,"y":-0.8744964451869015},{"x":5,"y":-0.6995785734037424},{"x":6,"y":-1.6039028221401417},{"x":7,"y":-1.1138258283345304},{"x":8,"y":-1.6909738560368393},{"x":9,"y":-0.6156907281667277},{"x":10,"y":-0.07717192002564803},{"x":11,"y":-1.6295643978541756},{"x":12,"y":-6.145006199478739},{"x":13,"y":-0.9842018519715975},{"x":14,"y":-7.099001359372629},{"x":15,"y":-2.369064776366118},{"x":16,"y":-8.12535348541358},{"x":17,"y":-6.991213786177573},{"x":18,"y":-9.498383573370138},{"x":19,"y":-7.6902263302364045},{"x":20,"y":-7.2956616975576205},{"x":21,"y":-9.283899339360003},{"x":22,"y":-9.283899339360003},{"x":23,"y":-11.693071100081609},{"x":24,"y":-11.546707620286316},{"x":25,"y":-11.546707620286316},{"x":26,"y":-12.907805408217358},{"x":27,"y":-13.877431837758417},{"x":28,"y":-13.82085061735637},{"x":29,"y":-15.389162273493037},{"x":30,"y":-15.001262447812788},{"x":31,"y":-16.316537317453726},{"x":32,"y":-16.326040144502034},{"x":33,"y":-17.815755856091453},{"x":34,"y":-17.815755856091453},{"x":35,"y":-17.193578517109714},{"x":36,"y":-18.79244530168335},{"x":37,"y":-18.775741999244357},{"x":38,"y":-18.63416174604377},{"x":39,"y":-18.32203483802128},{"x":40,"y":-20.210980964641116},{"x":41,"y":-20.210980964641116},{"x":42,"y":-21.307758099647888},{"x":43,"y":-22.589452783086816},{"x":44,"y":-22.215511688630418},{"x":45,"y":-23.8205260024712},{"x":46,"y":-23.450447819951396},{"x":47,"y":-21.470762167904393},{"x":48,"y":-22.814628685716603}]}],"width":400,"height":247.2187957763672,"padding":{"bottom":20,"top":10,"right":10,"left":50}},"value":"#gorilla_repl.vega.VegaView{:content {:axes [{:scale \"x\", :type \"x\"} {:scale \"y\", :type \"y\"}], :scales [{:name \"x\", :type \"linear\", :range \"width\", :zero false, :domain {:data \"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac\", :field \"data.x\"}} {:name \"y\", :type \"linear\", :range \"height\", :nice true, :zero false, :domain {:data \"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac\", :field \"data.y\"}}], :marks [{:type \"symbol\", :from {:data \"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac\"}, :properties {:enter {:x {:scale \"x\", :field \"data.x\"}, :y {:scale \"y\", :field \"data.y\"}, :fill {:value \"steelblue\"}, :fillOpacity {:value 1}}, :update {:shape \"circle\", :size {:value 70}, :stroke {:value \"transparent\"}}, :hover {:size {:value 210}, :stroke {:value \"white\"}}}}], :data [{:name \"eb2b01fb-e598-424e-9488-d5d2e1cbb8ac\", :values ({:x 0, :y 4.29160468246766} {:x 1, :y 4.532599493153256} {:x 2, :y 5.223601132469395} {:x 3, :y 0.7144832607202148} {:x 4, :y -0.8744964451869015} {:x 5, :y -0.6995785734037424} {:x 6, :y -1.6039028221401417} {:x 7, :y -1.1138258283345304} {:x 8, :y -1.6909738560368393} {:x 9, :y -0.6156907281667277} {:x 10, :y -0.07717192002564803} {:x 11, :y -1.6295643978541756} {:x 12, :y -6.145006199478739} {:x 13, :y -0.9842018519715975} {:x 14, :y -7.099001359372629} {:x 15, :y -2.369064776366118} {:x 16, :y -8.12535348541358} {:x 17, :y -6.991213786177573} {:x 18, :y -9.498383573370138} {:x 19, :y -7.6902263302364045} {:x 20, :y -7.2956616975576205} {:x 21, :y -9.283899339360003} {:x 22, :y -9.283899339360003} {:x 23, :y -11.693071100081609} {:x 24, :y -11.546707620286316} {:x 25, :y -11.546707620286316} {:x 26, :y -12.907805408217358} {:x 27, :y -13.877431837758417} {:x 28, :y -13.82085061735637} {:x 29, :y -15.389162273493037} {:x 30, :y -15.001262447812788} {:x 31, :y -16.316537317453726} {:x 32, :y -16.326040144502034} {:x 33, :y -17.815755856091453} {:x 34, :y -17.815755856091453} {:x 35, :y -17.193578517109714} {:x 36, :y -18.79244530168335} {:x 37, :y -18.775741999244357} {:x 38, :y -18.63416174604377} {:x 39, :y -18.32203483802128} {:x 40, :y -20.210980964641116} {:x 41, :y -20.210980964641116} {:x 42, :y -21.307758099647888} {:x 43, :y -22.589452783086816} {:x 44, :y -22.215511688630418} {:x 45, :y -23.8205260024712} {:x 46, :y -23.450447819951396} {:x 47, :y -21.470762167904393} {:x 48, :y -22.814628685716603})}], :width 400, :height 247.2188, :padding {:bottom 20, :top 10, :right 10, :left 50}}}"}
;; <=

;; **
;;; #Gen: 1500
;; **

;; @@
;(ED(L))
(plot/list-plot (map second (map (fn [n] (score-inspector n)) (vec (range 1 50)))))

; Ec(L)/U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map (fn [x] (/ (last x) (second x))) (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log U(N)
(plot/list-plot (map (fn [x] (Math/log x)) (map last (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

;log Ec(L)
(plot/list-plot (map (fn [x] (Math/log x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50))))))

(map (fn [x] (renderer x)) (map first (map (fn [n] (score-inspector n)) (vec (range 1 50 10)))))


;; @@

;; @@

;; @@
